// (()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){const e=document.getElementById("loan-slider");if(e){const t=document.getElementById("loan-slider-value"),n=t.dataset.values.split(",").map(Number),o={from:function(e){return n.indexOf(Number(e))},to:function(e){const t=Math.round(Number(e));return n[t].toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}};noUiSlider.create(e,{start:0,animate:!1,connect:[!0,!1],range:{min:0,max:n.length-1},step:1,format:o}),e.noUiSlider.on("update",(function(e,n){t.innerHTML=e[n]}))}const t=document.getElementById("quiz-form"),n=document.querySelectorAll(".next-step"),o=t.querySelectorAll("input[type='radio']"),i=t.querySelectorAll("fieldset"),r=t.querySelector(".submit-btn");let c=0,l={};function a(e){i.forEach(((t,n)=>{t.style.display=n===e?"block":"none"})),function(e){document.querySelectorAll(".progress-main__item")[e].classList.add("_complite")}(e)}function s(){const e=i[c].querySelectorAll("input[required], textarea[required]");let t=!0;return e.forEach((e=>{const n=e.parentNode.querySelector(".validation-message");if(""===e.value.trim()){if(t=!1,!n){const t=document.createElement("span");t.classList.add("validation-message"),t.textContent="This field is required.",e.parentNode.appendChild(t)}}else n&&n.remove()})),t}function u(){if(c<i.length-1){if(!s())return;c++,a(c)}}n.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),u()}))})),o.forEach((e=>{e.addEventListener("change",(function(e){"no"===e.target.value?setTimeout((()=>{window.location.href="form-error.html"}),300):setTimeout((()=>{u()}),300)}))})),r.addEventListener("click",(function(e){if(e.preventDefault(),!s())return;t.querySelectorAll("input").forEach((e=>{const{name:t,type:n,value:o,checked:i}=e;if("radio"!==n||i)return"checkbox"===n?(l[t]=l[t]||[],void(i&&l[t].push(o))):void(l[t]=o)}));const n={firstName:l.firstName,email:l.email,company:l.company,phone:l.phone};fetch("https://funding-pro-api.onrender.com/api/v1/loan-cms",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log("Res",e),(e.message="Received successfully")&&(console.log("Form sent successfully"),window.location.href="form-redirect.html")}),(e=>console.log(e)))})),a(c)}()})();

(() => {
  "use strict";
  !(function (e) {
    let t = new Image();
    (t.onload = t.onerror =
      function () {
        !(function (e) {
          let t = !0 === e ? "webp" : "no-webp";
          document.documentElement.classList.add(t);
        })(2 == t.height);
      }),
      (t.src =
        "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA");
  })(),
    (function () {
      const e = document.getElementById("loan-slider");
      if (e) {
        const t = document.getElementById("loan-slider-value"),
          n = t.dataset.values.split(",").map(Number),
          o = {
            from: function (e) {
              return n.indexOf(Number(e));
            },
            to: function (e) {
              const t = Math.round(Number(e));
              return n[t].toLocaleString("en-US", {
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
              });
            },
          };
        noUiSlider.create(e, {
          start: 0,
          animate: !1,
          connect: [!0, !1],
          range: { min: 0, max: n.length - 1 },
          step: 1,
          format: o,
        }),
          e.noUiSlider.on("update", function (e, n) {
            t.innerHTML = e[n];
          });
      }
      const t = document.getElementById("quiz-form"),
        n = document.querySelectorAll(".next-step"),
        o = t.querySelectorAll("input[type='radio']"),
        i = t.querySelectorAll("fieldset"),
        r = t.querySelector(".submit-btn");
      let c = 0,
        l = {};
      function a(e) {
        i.forEach((t, n) => {
          t.style.display = n === e ? "block" : "none";
        }),
          (function (e) {
            document
              .querySelectorAll(".progress-main__item")
              [e].classList.add("_complite");
          })(e);
      }
      function s() {
        const e = i[c].querySelectorAll("input[required], textarea[required]");
        let t = !0;
        return (
          e.forEach((e) => {
            const n = e.parentNode.querySelector(".validation-message");
            if ("" === e.value.trim()) {
              if (((t = !1), !n)) {
                const t = document.createElement("span");
                t.classList.add("validation-message"),
                  (t.textContent = "This field is required."),
                  e.parentNode.appendChild(t);
              }
            } else n && n.remove();
          }),
          t
        );
      }
      function u() {
        if (c < i.length - 1) {
          if (!s()) return;
          c++, a(c);
        }
      }
      n.forEach((e) => {
        e.addEventListener("click", (e) => {
          e.preventDefault(), u();
        });
      }),
        o.forEach((e) => {
          e.addEventListener("change", function (e) {
            "no" === e.target.value
              ? setTimeout(() => {
                  window.location.href = "form-error.html";
                }, 300)
              : setTimeout(() => {
                  u();
                }, 300);
          });
        }),
        r.addEventListener("click", function (e) {
          if ((e.preventDefault(), !s())) return;
          t.querySelectorAll("input").forEach((e) => {
            const { name: t, type: n, value: o, checked: i } = e;
            if ("radio" !== n || i)
              return "checkbox" === n
                ? ((l[t] = l[t] || []), void (i && l[t].push(o)))
                : void (l[t] = o);
          });
           const formValues = {
             firstName: l.firstName,
             email: l.email,
             company: l.company,
             phone: l.phone,
             creditScore: "600-679",
             grossMonthlySales: "10k-20k",
           };

          fetch("https://funding-pro-api.onrender.com/api/v1/loan-cms", {
            method: "POST",
            body: JSON.stringify(formValues),
            headers: { "Content-Type": "application/json" },
          })
            .then((e) => e.json())
            .then(
              (e) => {
                console.log("Res", e),
                  (e.message = "Received successfully") &&
                    (console.log("Form sent successfully"),
                    (window.location.href = "form-redirect.html"));
              },
              (e) => console.log(e)
            );
        }),
        a(c);
    })();
})();
